import{$ as ne,S as ve,i as Pe,d as de,a0 as pe,a1 as fe,s as Ue,e as v,p as H,c as P,f as N,r as O,g as k,h as o,k as U,N as be,l as ae,O as p,a2 as Q,a3 as D,a4 as Ze,a5 as Ke,a6 as Xe,a7 as we,a8 as me,_ as ke,t as ye,W as Ee,m as xe,a9 as Te,x as Me,y as je,w as He,v as Oe,u as Ne,aa as Ve,H as Be}from"../../chunks/index-e60dbeb7.js";import{c as I}from"../../chunks/singletons-d1fb5791.js";import{s as F}from"../../chunks/globals-2f12a2b1.js";function _e(i){const e=i-1;return e*e*e+1}I.disable_scroll_handling;I.goto;const Re=I.invalidate;I.prefetch;I.prefetch_routes;I.before_navigate;I.after_navigate;function q(i,{pending:e,error:t,result:s}={}){let d;async function f(C){const r=d={};C.preventDefault();const u=new FormData(i);e&&e({data:u,form:i});try{const a=await fetch(i.action,{method:i.method,headers:{accept:"application/json"},body:u});if(r!==d)return;if(a.ok){s&&s({data:u,form:i,response:a});const n=new URL(i.action);n.search=n.hash="",Re(n.href)}else t?t({data:u,form:i,error:null,response:a}):console.error(await a.text())}catch(a){if(t&&a instanceof Error)t({data:u,form:i,error:a,response:null});else throw a}}return i.addEventListener("submit",f),{destroy(){i.removeEventListener("submit",f)}}}function ie(i,{delay:e=0,duration:t=400,easing:s=_e,start:d=0,opacity:f=0}={}){const C=getComputedStyle(i),r=+C.opacity,u=C.transform==="none"?"":C.transform,a=1-d,n=r*(1-f);return{delay:e,duration:t,easing:s,css:(K,X)=>`
			transform: ${u} scale(${1-a*X});
			opacity: ${r-n*X}
		`}}function Ce(i,{from:e,to:t},s={}){const d=getComputedStyle(i),f=d.transform==="none"?"":d.transform,[C,r]=d.transformOrigin.split(" ").map(parseFloat),u=e.left+e.width*C/t.width-(t.left+C),a=e.top+e.height*r/t.height-(t.top+r),{delay:n=0,duration:K=E=>Math.sqrt(E)*120,easing:X=_e}=s;return{delay:n,duration:ne(K)?K(Math.sqrt(u*u+a*a)):K,easing:X,css:(E,b)=>{const m=b*u,M=b*a,B=E+b*e.width/t.width,l=E+b*e.height/t.height;return`transform: ${f} translate(${m}px, ${M}px) scale(${B}, ${l});`}}}const Z="src/routes/site/todos/index.svelte";function J(i,e,t){const s=i.slice();return s[3]=e[t],s[4]=e,s[5]=t,s}function re(i,e){let t,s,d,f,C,r,u,a,n,K,X,E,b,m,M,B,l,c,g,h,L,w,y,z,Y,V,W,$,ee,R,te,oe=Be,j,se,ue;function ce(...x){return e[1](e[3],e[4],e[5],...x)}function ge(){return e[2](e[3],e[4],e[5])}const he={key:i,first:null,c:function(){t=v("div"),s=v("form"),d=v("input"),C=H(),r=v("input"),a=H(),n=v("button"),E=H(),b=v("form"),m=v("input"),B=H(),l=v("input"),g=H(),h=v("button"),L=H(),w=v("form"),y=v("input"),Y=H(),V=v("button"),ee=H(),this.h()},l:function(T){t=P(T,"DIV",{class:!0});var _=N(t);s=P(_,"FORM",{action:!0,method:!0,class:!0});var S=N(s);d=P(S,"INPUT",{type:!0,name:!0,class:!0}),C=O(S),r=P(S,"INPUT",{type:!0,name:!0,class:!0}),a=O(S),n=P(S,"BUTTON",{class:!0,"aria-label":!0}),N(n).forEach(k),S.forEach(k),E=O(_),b=P(_,"FORM",{class:!0,action:!0,method:!0});var A=N(b);m=P(A,"INPUT",{type:!0,name:!0,class:!0}),B=O(A),l=P(A,"INPUT",{"aria-label":!0,type:!0,name:!0,class:!0}),g=O(A),h=P(A,"BUTTON",{class:!0,"aria-label":!0}),N(h).forEach(k),A.forEach(k),L=O(_),w=P(_,"FORM",{action:!0,method:!0,class:!0});var G=N(w);y=P(G,"INPUT",{type:!0,name:!0,class:!0}),Y=O(G),V=P(G,"BUTTON",{class:!0,"aria-label":!0}),N(V).forEach(k),G.forEach(k),ee=O(_),_.forEach(k),this.h()},h:function(){o(d,"type","hidden"),o(d,"name","uid"),d.value=f=e[3].uid,o(d,"class","s-Cgo2s-XZPUbK"),U(d,Z,44,4,922),o(r,"type","hidden"),o(r,"name","done"),r.value=u=e[3].done?"":"true",o(r,"class","s-Cgo2s-XZPUbK"),U(r,Z,45,4,978),o(n,"class","toggle s-Cgo2s-XZPUbK"),o(n,"aria-label",K="Mark todo as "+(e[3].done?"not done":"done")),U(n,Z,46,4,1050),o(s,"action",F+"/todos?_method=PATCH"),o(s,"method","post"),o(s,"class","s-Cgo2s-XZPUbK"),U(s,Z,35,3,748),o(m,"type","hidden"),o(m,"name","uid"),m.value=M=e[3].uid,o(m,"class","s-Cgo2s-XZPUbK"),U(m,Z,50,4,1237),o(l,"aria-label","Edit todo"),o(l,"type","text"),o(l,"name","text"),l.value=c=e[3].text,o(l,"class","s-Cgo2s-XZPUbK"),U(l,Z,51,4,1293),o(h,"class","save s-Cgo2s-XZPUbK"),o(h,"aria-label","Save todo"),U(h,Z,52,4,1372),o(b,"class","text s-Cgo2s-XZPUbK"),o(b,"action",F+"/todos?_method=PATCH"),o(b,"method","post"),U(b,Z,49,3,1151),o(y,"type","hidden"),o(y,"name","uid"),y.value=z=e[3].uid,o(y,"class","s-Cgo2s-XZPUbK"),U(y,Z,62,4,1583),o(V,"class","delete s-Cgo2s-XZPUbK"),o(V,"aria-label","Delete todo"),V.disabled=W=e[3].pending_delete,U(V,Z,63,4,1639),o(w,"action",F+"/todos?_method=DELETE"),o(w,"method","post"),o(w,"class","s-Cgo2s-XZPUbK"),U(w,Z,55,3,1434),o(t,"class","todo s-Cgo2s-XZPUbK"),be(t,"done",e[3].done),U(t,Z,29,2,615),this.first=t},m:function(T,_){ae(T,t,_),p(t,s),p(s,d),p(s,C),p(s,r),p(s,a),p(s,n),p(t,E),p(t,b),p(b,m),p(b,B),p(b,l),p(b,g),p(b,h),p(t,L),p(t,w),p(w,y),p(w,Y),p(w,V),p(t,ee),j=!0,se||(ue=[Q(X=q.call(null,s,{pending:ce})),Q(q.call(null,b)),Q($=q.call(null,w,{pending:ge}))],se=!0)},p:function(T,_){e=T,(!j||_&1&&f!==(f=e[3].uid))&&D(d,"value",f),(!j||_&1&&u!==(u=e[3].done?"":"true"))&&D(r,"value",u),(!j||_&1&&K!==(K="Mark todo as "+(e[3].done?"not done":"done")))&&o(n,"aria-label",K),X&&ne(X.update)&&_&1&&X.update.call(null,{pending:ce}),(!j||_&1&&M!==(M=e[3].uid))&&D(m,"value",M),(!j||_&1&&c!==(c=e[3].text)&&l.value!==c)&&D(l,"value",c),(!j||_&1&&z!==(z=e[3].uid))&&D(y,"value",z),(!j||_&1&&W!==(W=e[3].pending_delete))&&D(V,"disabled",W),$&&ne($.update)&&_&1&&$.update.call(null,{pending:ge}),_&1&&be(t,"done",e[3].done)},r:function(){te=t.getBoundingClientRect()},f:function(){Ze(t),oe(),Ke(t,te)},a:function(){oe(),oe=Xe(t,te,Ce,{duration:200})},i:function(T){j||(T&&we(()=>{R||(R=me(t,ie,{start:.7},!0)),R.run(1)}),j=!0)},o:function(T){T&&(R||(R=me(t,ie,{start:.7},!1)),R.run(0)),j=!1},d:function(T){T&&k(t),T&&R&&R.end(),se=!1,ke(ue)}};return de("SvelteRegisterBlock",{block:he,id:re.name,type:"each",source:"(29:1) {#each todos as todo (todo.uid)}",ctx:e}),he}function le(i){let e,t,s,d,f,C,r,u,a,n=[],K=new Map,X,E,b,m=i[0];pe(m);const M=l=>l[3].uid;fe(i,m,J,M);for(let l=0;l<m.length;l+=1){let c=J(i,m,l),g=M(c);K.set(g,n[l]=re(g,c))}const B={c:function(){e=v("meta"),t=H(),s=v("div"),d=v("h1"),f=ye("Todos"),C=H(),r=v("form"),u=v("input"),a=H();for(let c=0;c<n.length;c+=1)n[c].c();this.h()},l:function(c){const g=Ee('[data-svelte="svelte-aw2gey"]',document.head);e=P(g,"META",{name:!0,content:!0,class:!0}),g.forEach(k),t=O(c),s=P(c,"DIV",{class:!0});var h=N(s);d=P(h,"H1",{class:!0});var L=N(d);f=xe(L,"Todos"),L.forEach(k),C=O(h),r=P(h,"FORM",{class:!0,action:!0,method:!0});var w=N(r);u=P(w,"INPUT",{name:!0,"aria-label":!0,placeholder:!0,class:!0}),w.forEach(k),a=O(h);for(let y=0;y<n.length;y+=1)n[y].l(h);h.forEach(k),this.h()},h:function(){document.title="Todos",o(e,"name","description"),o(e,"content","A todo list app"),o(e,"class","s-Cgo2s-XZPUbK"),U(e,Z,9,1,240),o(d,"class","s-Cgo2s-XZPUbK"),U(d,Z,13,1,331),o(u,"name","text"),o(u,"aria-label","Add todo"),o(u,"placeholder","+ tap to add a todo"),o(u,"class","s-Cgo2s-XZPUbK"),U(u,Z,25,2,491),o(r,"class","new s-Cgo2s-XZPUbK"),o(r,"action",F+"/todos"),o(r,"method","post"),U(r,Z,15,1,348),o(s,"class","todos s-Cgo2s-XZPUbK"),U(s,Z,12,0,310)},m:function(c,g){p(document.head,e),ae(c,t,g),ae(c,s,g),p(s,d),p(d,f),p(s,C),p(s,r),p(r,u),p(s,a);for(let h=0;h<n.length;h+=1)n[h].m(s,null);X=!0,E||(b=Q(q.call(null,r,{result:Ie})),E=!0)},p:function(c,[g]){if(g&1){m=c[0],pe(m),Ne();for(let h=0;h<n.length;h+=1)n[h].r();fe(c,m,J,M),n=Te(n,g,M,1,c,m,K,s,Ve,re,null,J);for(let h=0;h<n.length;h+=1)n[h].a();Me()}},i:function(c){if(!X){for(let g=0;g<m.length;g+=1)je(n[g]);X=!0}},o:function(c){for(let g=0;g<n.length;g+=1)He(n[g]);X=!1},d:function(c){k(e),c&&k(t),c&&k(s);for(let g=0;g<n.length;g+=1)n[g].d();E=!1,b()}};return de("SvelteRegisterBlock",{block:B,id:le.name,type:"component",source:"",ctx:i}),B}const Ie=async({form:i})=>{i.reset()};function Le(i,e,t){let{$$slots:s={},$$scope:d}=e;Oe("Todos",s,[]);let{todos:f}=e;const C=["todos"];Object.keys(e).forEach(a=>{!~C.indexOf(a)&&a.slice(0,2)!=="$$"&&a!=="slot"&&console.warn(`<Todos> was created with unknown prop '${a}'`)});const r=(a,n,K,{data:X})=>{t(0,n[K].done=!!X.get("done"),f)},u=(a,n,K)=>t(0,n[K].pending_delete=!0,f);return i.$$set=a=>{"todos"in a&&t(0,f=a.todos)},i.$capture_state=()=>({enhance:q,scale:ie,flip:Ce,site:F,todos:f}),i.$inject_state=a=>{"todos"in a&&t(0,f=a.todos)},e&&"$$inject"in e&&i.$inject_state(e.$$inject),[f,r,u]}class Fe extends ve{constructor(e){super(e),Pe(this,e,Le,le,Ue,{todos:0}),de("SvelteRegisterComponent",{component:this,tagName:"Todos",options:e,id:le.name});const{ctx:t}=this.$$,s=e.props||{};t[0]===void 0&&!("todos"in s)&&console.warn("<Todos> was created without expected prop 'todos'")}get todos(){throw new Error("<Todos>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set todos(e){throw new Error("<Todos>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}export{Fe as default};
